# 短編小説生成工場

3つのキーワードから短編小説を自動生成するClaude Code実験プロジェクト。

## 必要なもの

- [Claude Code](https://docs.anthropic.com/en/docs/claude-code)

## 使い方

```bash
cd narou-maker-v3
claude
/start-writing
```

---

## ワークフロー概要

```
[原材料投入]  3つのキーワード
      ↓
┌─────────────────────────────────────┐
│  設計室（Master）                    │
│  ├─ 世界観構築 ←──┐                 │
│  └─ プロット設計 ←─┴─ 人間の承認     │
└─────────────────────────────────────┘
      ↓
┌─────────────────────────────────────┐
│  製造ライン（Subagent）              │
│  ├─ 章執筆（並列）                   │
│  └─ 推敲・検証                       │
└─────────────────────────────────────┘
      ↓
[完成品]  短編小説
```

---

## 工場の設備（Claude Codeツール群）

この工場は Claude Code の機能を組み合わせて動作します。

### 1. Slash Command — 起動スイッチ

```
/start-writing
```

`.claude/commands/` に定義されたプロンプトを実行。ワークフロー全体の起点となる。

### 2. Skills — 作業マニュアル

`.claude/skills/` に定義された専門スキル群。各工程の手順書として機能する。

| スキル | 役割 |
|:--|:--|
| `world-building` | キーワードから世界観を構築 |
| `plot-template` | 世界観からプロット・キャラクターを生成 |
| `chapter-writing` | プロットに基づき章を執筆 |
| `refinement` | 執筆済みの章を推敲・検証 |
| `narou-flavor` | なろう系のお約束を参照（内部用） |

### 3. AskUserQuestion — 品質チェックポイント

各フェーズ完了時に人間の承認を取得する。

```
世界観が完成しました。
1. このまま進む
2. 修正してから進む
3. 一旦終了
```

修正指示があれば該当スキルを再実行。承認されるまでループする。

### 4. Task tool (context: fork) — 並列製造ライン

章執筆フェーズでは `Task` ツールで Subagent を起動し、複数章を並列処理する。

- Master のコンテキストを汚さない
- 試行錯誤を隔離できる
- 長い処理を並列化できる

---

## 成果物

```
outputs/<project-id>/
  ├─ input.md        # 入力キーワード
  ├─ worldview.md    # 世界観設定
  ├─ plot.md         # プロット骨子
  ├─ characters.md   # キャラクター設定
  ├─ chapters/       # 各章本文
  │   ├─ 01.md
  │   └─ ...
  └─ final.md        # 最終成果物
```

---

## ライセンス

MIT
